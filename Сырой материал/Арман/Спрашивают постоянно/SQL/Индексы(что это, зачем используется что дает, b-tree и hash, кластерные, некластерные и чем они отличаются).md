**Индекс** — это специальная структура данных, которая позволяет быстро находить строки в таблице, не сканируя всю таблицу построчно.

Зачем используются индексы? 
Индексы ускоряют операции поиска, сортировки и фильтрации данных в базах данных. Без индексов СУБД пришлось бы просматривать каждую строку в таблице, чтобы найти нужные данные, что очень медленно.

Что дают индексы:
 1. **Быстрый поиск:** Найти данные по условию (например, по конкретному значению в столбце) можно быстрее.
 2. **Ускорение сортировки:** Позволяют быстрее упорядочивать данные при выполнении запросов.
 3. **Эффективность JOIN'ов:** Позволяют быстро находить соответствия при соединениях таблиц.

B-tree и Hash индексы

B-tree индекс (дерево поиска) - B-tree индекс хранит данные в структуре сбалансированного дерева, что позволяет быстро находить записи.
Особенности B-tree:
1. Подходит для операций с диапазонами чисел или диапазонными запросами.
2. Позволяет эффективно работать с операциями `=`, `<`, `>`, BETWEEN и т.д.
3. Пример: Поиск всех сотрудников, чьи зарплаты в диапазоне от 50,000 до 100,000.

Hash индекс - Hash индекс использует хэш-функции для быстрого поиска.
Особенности Hash:
1. Подходит для операций **равенства** (`=`), но плохо работает с диапазонными запросами.
2. Отлично для быстрого поиска по конкретному значению.

Кластерные и некластерные индексы

Кластерный индекс - один из ключевых индексов таблицы, который определяет физический порядок хранения данных в таблице.
Пример: 
Если у таблицы есть кластерный индекс по столбцу `id`, строки в таблице будут физически храниться в порядке значений `id`.
Свойства кластерного индекса:
1. В таблице может быть только **один кластерный индекс**.
2. Он определяет, как данные будут упорядочены на диске.
3. Определяет физический порядок данных
4. Скорость поиска быстрый, но зависит от данных

Некластерный индекс -  содержит указатели на данные, но не изменяет физический порядок строк в таблице.
Пример: Ты можешь иметь некластерный индекс по столбцу `last_name`, даже если основной порядок данных в таблице определён по `id`.
Свойства некластерного индекса:
	1. В таблице может быть несколько
	2. Скорость поиска очень быстрый для фильтрации

Пример: Допустим, есть таблица `employees` со столбцами `id`, `last_name`, и `department`:
1. **Кластерный индекс** по `id` — данные будут физически упорядочены по значению `id`.
2. **Некластерный индекс** по `last_name` позволит быстро находить сотрудников по фамилии, но не повлияет на физическое хранилище данных.

Когда и почему создавать индексы?
Индексы **полезны**, если:
1. Ты часто ищешь данные по конкретным условиям.
2. Ты используешь `JOIN` и хочешь ускорить соединение между таблицами.
3. Ты используешь `ORDER BY`.

Но индексы **могут быть вредны**, если:
1. Таблица часто обновляется, удаляется или вставляются данные, так как индексы нужно поддерживать в актуальном состоянии.
2. Таблица маленькая, и поиск без индексов работает достаточно быстро.

Итог:
1. **B-tree индекс** — быстрый и подходит для диапазонных запросов и сортировок.
2. **Hash индекс** — быстрый для точного поиска по равенству.
3. **Кластерный индекс** — упорядочивает физическое хранение данных в таблице.
4. **Некластерный индекс** — позволяет быстро искать данные, но не изменяет физическое расположение строк.