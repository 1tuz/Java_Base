**Жизненный цикл бина** в Spring — это последовательность этапов, через которые проходит бин (объект) от создания до удаления. Spring предоставляет аннотации **@PostConstruct** и **@PreDestroy** для выполнения логики инициализации и завершения работы бина.

Этапы жизненного цикла бина:
1. Создание бина: Spring создаёт бин, используя его класс или фабрику.
2. Внедрение зависимостей: Spring заполняет бин необходимыми зависимостями (через конструктор, сеттеры или поля).
3. Инициализация: Выполняются методы, помеченные аннотацией **@PostConstruct**, для настройки бина. Например, подключение к базе данных.
4. Использование: Бин используется в приложении, выполняя свою задачу.
5. Завершение работы: Когда приложение завершается, Spring вызывает методы, помеченные аннотацией **@PreDestroy**, для освобождения ресурсов. Например, закрытие соединений.

### **Этапы жизненного цикла**

- **Инициализация контейнера**  
    - `ApplicationContext` создаётся при старте приложения.
- **Чтение конфигурации**  
    - `BeanDefinitionReader` считывает метаданные (из XML, аннотаций и т. д.).
    - Создаются объекты `BeanDefinition` с инфой о бинах (класс, зависимости, scope).
- **Создание бинов**  
    - Контейнер создаёт экземпляры по `BeanDefinition`.
    - `Singleton`-бины создаются сразу, `Prototype` — по запросу.
- **Внедрение зависимостей**  
    - Через конструктор, сеттеры или `@Autowired`.
- **PostProcessBeforeInitialization**  
    - Все `BeanPostProcessor` вызывают `postProcessBeforeInitialization()`.
- **Инициализация (Initialization)**  
    - `afterPropertiesSet()` (если реализован `InitializingBean`).
    - Метод с `@PostConstruct` (если есть).
- **PostProcessAfterInitialization**  
    - `BeanPostProcessor` вызывают `postProcessAfterInitialization()`.
- **Готовность к использованию**  
    - Бин полностью настроен, можно работать.
- **Уничтожение (Destruction)**  
    - `destroy()` (если `DisposableBean`).
    - Метод с `@PreDestroy` (если есть).

Аннотация @PostConstruct - после создания бина и внедрения всех его зависимостей.
**Зачем нужна?**  
Чтобы настроить бин или выполнить дополнительную инициализацию.

Аннотация @PreDestroy - перед удалением бина из контейнера Spring (например, при завершении приложения).
**Зачем нужна?**  
Чтобы освободить ресурсы, такие как соединения с базой данных или потоки.

Ключевые моменты:
1. **@PostConstruct** и **@PreDestroy** работают только с бинами, управляемыми Spring.
2. Они относятся к стандартам **JSR-250**, поэтому требуют зависимости **javax.annotation-api** (если не используете Spring Boot, где это уже есть).
3. Эти аннотации заменяют необходимость реализации интерфейсов **InitializingBean** и **DisposableBean**, делая код чище и проще.

Что нужно помнить:
1. Если бин имеет **синглтон**-скоуп (по умолчанию), Spring вызывает эти методы один раз.
2. Если бин имеет **прототипный** скоуп, Spring вызывает **@PostConstruct**, но **@PreDestroy** не работает, так как управление завершением таких бинов лежит на разработчике.


**Аннотация @PostConstruct в Spring** **используется для маркировки метода, который должен быть вызван сразу после инициализации бина**, в частности после установки всех его свойств.

**Пример использования**:
@Component
public class MyBean {
    @PostConstruct
    public void init() {
        // Задачи инициализации
    }
}
В этом примере метод init(), аннотированный @PostConstruct, будет вызван автоматически после создания бина и внедрения всех его зависимостей.

