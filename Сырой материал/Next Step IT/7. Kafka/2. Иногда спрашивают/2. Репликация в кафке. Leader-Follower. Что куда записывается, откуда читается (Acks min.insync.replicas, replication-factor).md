**Репликация Kafka**- процесс разделение данных на несколько серверов (брокеров), для обеспечения надежности, отказоустойчивости и лучшей производительности
### Leader и Follower
- **Leader** - каждая патиция в топике имеет одну ведущую реплику, которая отвечает за все операции записи и чтения. Продюсеры отправляют данные именно этому брокеру
- **Follower** - остальные партиции являются ведомыми, они синхронизируются с лидером, обеспечивая резервное копирование. Если лидер выходит из строя один из последователей становится лидером
### Процесс записи и чтения данных
- **Запись** 
	1. Продюсер отправляет сообщение в топик, оно записывается на лидере партиций
	2. Лидер асинхронно передает сообщение всем своим последователям
	3. Запись считается успешной, если она соответствует настройкам `acks` и `min.insync.replicas`
- **Чтение**
	1. Потребители читают данные с лидера(по умолчанию). С Kafka 2.4, они могут читать с ведомых реплик, чтобы снизить нагрузку на лидера
### Параметры управления репликацией
#### Фактор репликации
- `replication-factor` - определяет количество партиций в кластаре, например если это значение равно 3, у нас будет один лидер и две ведущие партиции. Это значение не должно превышать количество брокеров в кластаре
#### Acks 
- **acks = 0** - продюсеры не ждет подтверждения от брокеров 
- **acks = 1** - продюсер ждет подтверждения от лидера
- **acks = all** - ждет подтверждения от всех синхронизированных реплик

#### min.insync.replicas 
- `min.insync.replicas` - этот параметр определяет минимальное количество синхронизированных реплик, которые должны подтвердить запись сообщения, прежде чем оно будет принято  
