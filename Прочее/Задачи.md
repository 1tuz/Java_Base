задачи

Используем Spring Boot для создания REST API. 
Делаем запрос к ЦБ РФ для получения XML-данных о валюте. 
Парсим XML и возвращаем результат в формате JSON. 
Обрабатываем возможные ошибки, такие как некорректный код валюты или дата.


Шаги реализации REST API для получения курса валюты 
Создание проекта: 
Использовать Spring Initializr.
Добавить зависимости: Spring Web, JAXB API. 
Основной класс: Создать @SpringBootApplication для запуска приложения. 
Контроллер: Создать эндпоинт GET /api/rate/{code}/{date}. Обрабатывать запросы, вызывать сервис для получения курса валюты. Возвращать JSON с полями code, rate, date. 
Сервис: Формировать URL для запроса к ЦБ РФ. Использовать RestTemplate для получения данных. 
Парсить XML (по CharCode) для извлечения курса. 
Обрабатывать ошибки, если валюта не найдена. 
Форматирование даты: Преобразовать дату из yyyy-MM-dd в формат dd/MM/yyyy. 
Класс ответа: Описать JSON-ответ с полями code, rate, date. 



Тестирование: Написать Unit-тесты для сервиса (парсинг XML, обработка ошибок). 
Написать интеграционные тесты для контроллера (ответ JSON, обработка ошибок). Примеры запросов: GET /api/rate/USD → возвращает последний доступный курс. GET /api/rate/USD/2023-12-25 → возвращает курс на указанную дату. 

Улучшения: Кэширование запросов (Redis/Caffeine). Документация API (Swagger/OpenAPI). Расширенная обработка ошибок.





 Получение и парсинг данных с внешнего API Каждый день, когда пользователь запрашивает курс валюты, мы отправляем HTTP-запрос на указанный URL. 
 Ответом будет XML-файл, который необходимо разобрать и извлечь нужные данные. 
 Важно заметить, что ЦБР предоставляет XML, который может содержать курсы нескольких валют, и мы должны фильтровать только ту, которая нас интересует (по коду валюты). Процесс извлечения данных из XML может быть сложным, если структура документа содержит много информации, но мы будем использовать готовые библиотеки для парсинга XML в удобный формат объектов (например, через Jackson или JAXB). 
 3.2. Парсинг даты и поиск последней доступной даты Если пользователь не указал дату, необходимо вернуть курс валюты на последнюю доступную дату. Для этого: Мы должны отправить запрос на API ЦБР без указания даты и получить данные за текущий день. В случае запроса с датой, проверяем, существует ли курс на эту дату. Если дата актуальна, возвращаем курс на этот день. В противном случае, можем вернуть ошибку или курс на последнюю доступную дату (что зависит от бизнес-логики). 
 3.3. Проектирование REST API REST API должно обрабатывать два типа запросов: GET /api/rate/{code} — для получения курса валюты по коду на последнюю доступную дату. GET /api/rate/{code}/{date} — для получения курса валюты по коду на конкретную дату. Примечание: Параметр date в запросах должен быть в формате yyyy-MM-dd, и он должен быть опциональным. Если его нет, возвращаем курс на самую позднюю дату.